{"version":3,"file":"player.js","sourceRoot":"","sources":["../../src/core/player.ts"],"names":[],"mappings":"AAEA,MAAM,aAAa,GAAG,CAAC,CAAC;AACxB,MAAM,UAAU,GAAG,EAAE,CAAC;AAEtB,MAAM,MAAM;IACF,IAAI,CAAS;IAEb,WAAW,CAAS;IACpB,KAAK,CAAU;IACf,WAAW,CAAS;IACpB,UAAU,CAAS;IAEnB,KAAK,CAAS;IACd,KAAK,CAAS;IAEtB,YAAY,IAAY,EAAE,KAAU;QAClC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAA;QAEhB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAChC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAE3D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAC/B,CAAC;IAEM,MAAM,CAAC,GAA6B;QACzC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAA;QACrB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAA;IACvB,CAAC;IAEO,WAAW,CAAC,GAA6B;QAC/C,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;QAC3B,GAAG,CAAC,SAAS,GAAG,QAAQ,CAAC;QACzB,GAAG,CAAC,IAAI,GAAG,YAAY,CAAC;QAExB,MAAM,QAAQ,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC;QACpC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,GAAG,UAAU,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,CAAC;IAC9E,CAAC;IAEO,WAAW,CAAC,GAA6B;QAC/C,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;QAChC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;QAE7D,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC;QACjC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,aAAa,EAAE,UAAU,GAAG,CAAC,EAAE,UAAU,CAAC,CAAC;IACvF,CAAC;CACF;AAED,OAAO,EAAE,MAAM,EAAE,CAAA","sourcesContent":["import { HSL } from './color';\n\nconst SHADOW_OFFSET = 3;\nconst CELL_WIDTH = 30;\n\nclass Player {\n  private name: string;\n\n  private trace_color: string;\n  private color : string;\n  private light_color: string;\n  private dark_color: string;\n\n  private pos_x: number;\n  private pos_y: number;\n\n  constructor(name: string, color: HSL) {\n    this.name = name\n\n    this.trace_color = color.to_rgba(0.65);\n    this.color = color.to_rgba(0.9);\n    this.light_color = color.to_rgba(1);\n    this.dark_color = color.adjust_luminosity(0.35).to_rgba(1);\n\n    this.pos_y = this.pos_x = 40;\n  }\n\n  public render(ctx: CanvasRenderingContext2D): void {\n    this.render_name(ctx)\n    this.render_cube(ctx)\n  }\n\n  private render_name(ctx: CanvasRenderingContext2D): void {\n    ctx.fillStyle = this.color;\n    ctx.textAlign = 'center';\n    ctx.font = '12px Arial';\n\n    const y_offset = -SHADOW_OFFSET * 2;\n    ctx.fillText(this.name, this.pos_x + CELL_WIDTH / 2, this.pos_y + y_offset);\n  }\n\n  private render_cube(ctx: CanvasRenderingContext2D): void {\n    ctx.fillStyle = this.dark_color;\n    ctx.fillRect(this.pos_x, this.pos_y, CELL_WIDTH, CELL_WIDTH);\n\n    ctx.fillStyle = this.light_color;\n    ctx.fillRect(this.pos_x - 1, this.pos_y - SHADOW_OFFSET, CELL_WIDTH + 2, CELL_WIDTH);\n  }\n}\n\nexport { Player }"]}